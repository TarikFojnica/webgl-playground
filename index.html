<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8>
	<title>3D Clock</title>
	<style>
		body { margin: 0; }
		canvas { width: 100%; height: 100% }
	</style>
</head>
<body>
<div>
	<div id="container">
	</div>
</div>
<script src="js/three.js"></script>
<script>
	const loader = new THREE.TextureLoader();
	const container = document.querySelector('#container');
	const renderer = new THREE.WebGLRenderer();
	const WIDTH = window.innerWidth;
	const HEIGHT = window.innerHeight;
	renderer.setSize(WIDTH, HEIGHT);

	const VIEW_ANGLE = 45;
	const ASPECT = WIDTH / HEIGHT;
	const NEAR = 0.1;
	const FAR = 1000;
	const camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);
	camera.position.set( 0, 0, 500 );


	const scene = new THREE.Scene();
	const backgroundTexture = loader.load('./assets/seamless space_0.PNG');
	backgroundTexture.wrapS = THREE.RepeatWrapping;
	backgroundTexture.wrapT = THREE.RepeatWrapping;
	backgroundTexture.repeat.set( 5, 5 );
	scene.background = backgroundTexture;

	scene.add(camera);
	container.appendChild(renderer.domElement);

	// Create a Sphere
	const RADIUS = 200;
	const SEGMENTS = 50;
	const RINGS = 50;
	const globe = new THREE.Group();

	// Add globe to the Scene
	scene.add(globe);
	loader.load( './assets/land_ocean_ice_cloud_2048.jpg', function ( texture ) {

		// Create the sphere
		var sphere = new THREE.SphereGeometry( RADIUS, SEGMENTS, RINGS );

		// Map the texture to the material.
		var material = new THREE.MeshBasicMaterial( { map: texture, overdraw: 0.5 } );

		// Create a new mesh with sphere geometry.
		var mesh = new THREE.Mesh( sphere, material );

		// Add mesh to globe
		globe.add(mesh);
	} );

	globe.position.z = -300;

	const pointLight = new THREE.PointLight(0xFFFFFF);
	pointLight.position.x = 10;
	pointLight.position.y = 50;
	pointLight.position.z = 400;
	scene.add(pointLight);

	function update () {

		//Render:
		renderer.render(scene, camera);

		// Schedule the next frame:
		requestAnimationFrame(update);
	}

	// Schedule the first frame:
	requestAnimationFrame(update);

	function animationBuilder(direction) {
		return function animateRotate() {
			switch (direction) {
				case 'up':
					globe.rotation.x -= 0.2;
					break;
				case 'down':
					globe.rotation.x += 0.2;
					break;
				case 'left':
					globe.rotation.y -= 0.2;
					break;
				case 'right':
					globe.rotation.y += 0.2;
					break;
				default:
					break;
			}
		}
	}
</script>
</body>
</html>